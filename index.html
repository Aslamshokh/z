<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dribbling - Telegram WebApp</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: radial-gradient(circle at top, #1a1a3a, #0d0d1f);
      color: white;
    }

    header {
      padding: 20px;
      text-align: center;
      font-size: 28px;
      font-weight: bold;
      background: linear-gradient(90deg,#00f5a0,#00d9f5);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .container {
      padding: 15px;
    }

    .card {
      background: rgba(255,255,255,0.05);
      border-radius: 20px;
      padding: 15px;
      margin-bottom: 15px;
      backdrop-filter: blur(10px);
      box-shadow: 0 0 20px rgba(0,255,200,0.15);
    }

    h2 { margin-top: 0; }

    button {
      width: 100%;
      padding: 12px;
      border-radius: 30px;
      border: none;
      font-weight: bold;
      cursor: pointer;
      margin-top: 10px;
      background: linear-gradient(90deg,#00f5a0,#00d9f5);
    }

    input, select {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: none;
      margin-top: 5px;
      margin-bottom: 10px;
    }

    .hidden { display: none; }

    .nav {
      position: fixed;
      bottom: 0;
      width: 100%;
      display: flex;
      justify-content: space-around;
      background: #111;
      padding: 10px 0;
    }

    .nav button {
      background: none;
      color: white;
      font-size: 14px;
      width: auto;
    }
  </style>
</head>
<body>

<header>‚öΩ Dribbling</header>

<div class="container">

  <div id="profile" class="card">
    <h2>üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h2>
    <p id="userInfo">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
    <p>–ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span> –æ—á–∫–æ–≤</p>
  </div>

  <div id="predictions" class="card hidden">
    <h2>üìä –°–¥–µ–ª–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑</h2>
    <select id="match">
      <option>Barcelona vs Real Madrid</option>
      <option>Manchester City vs Arsenal</option>
    </select>
    <input type="text" id="score" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—á—ë—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä 2-1)" />
    <button onclick="makePrediction()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑</button>
  </div>

  <div id="tournaments" class="card hidden">
    <h2>üèÜ –¢—É—Ä–Ω–∏—Ä—ã</h2>
    <p>üî• Weekly Cup</p>
    <p>üèÖ Champions League Pool</p>
  </div>

  <div id="admin" class="card hidden">
    <h2>‚öô –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
    <input type="text" id="newMatch" placeholder="–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ç—á" />
    <button onclick="addMatch()">–î–æ–±–∞–≤–∏—Ç—å</button>
  </div>

</div>

<div class="nav">
  <button onclick="showSection('profile')">–ü—Ä–æ—Ñ–∏–ª—å</button>
  <button onclick="showSection('predictions')">–ü—Ä–æ–≥–Ω–æ–∑</button>
  <button onclick="showSection('tournaments')">–¢—É—Ä–Ω–∏—Ä—ã</button>
</div>

<script>
  const tg = window.Telegram.WebApp;
  tg.expand();

  const user = tg.initDataUnsafe?.user;

  if (!user) {
    document.body.innerHTML = "<h2 style='text-align:center;margin-top:50px'>–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Telegram</h2>";
  } else {
    document.getElementById("userInfo").innerHTML =
      `ID: ${user.id}<br>–ò–º—è: ${user.first_name}`;

    // –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ–π Telegram ID –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω–∫–µ
    const ADMIN_ID = 123456789;
    if (user.id === ADMIN_ID) {
      document.getElementById("admin").classList.remove("hidden");
    }
  }

  function showSection(id) {
    document.querySelectorAll('.card').forEach(el => el.classList.add('hidden'));
    document.getElementById(id).classList.remove('hidden');
  }

  function makePrediction() {
    const match = document.getElementById("match").value;
    const score = document.getElementById("score").value;

    tg.sendData(JSON.stringify({
      type: "prediction",
      match: match,
      score: score
    }));

    alert("–ü—Ä–æ–≥–Ω–æ–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!");
  }

  function addMatch() {
    const match = document.getElementById("newMatch").value;
    alert("–ú–∞—Ç—á –¥–æ–±–∞–≤–ª–µ–Ω: " + match);
  }
</script>

</body>
</html>
